<div
  class="flex flex-col justify-between rounded-lg w-65 shadow-xl/60 h-screen p-4"
>
  <ul class="mt-6 space-y-1">
    @for (item of items; track $index) { @if (!item.items) {
    <li>
      <a
        [routerLink]="item['link']"
        routerLinkActive="bg-primary-500/10 text-primary-500"
        [routerLinkActiveOptions]="{ exact: true }"
        class="flex items-center gap-2 rounded-lg px-4 py-2 text-text-secondary hover:bg-surface-hover"
      >
        <i [class]="item.icon + ' text-lg'"></i>
        <span class="text-sm font-medium">{{ item.label }}</span>
      </a>
    </li>
    } @else {
    <li>
      <details class="group [&_summary::-webkit-details-marker]:hidden">
        <summary
          class="flex cursor-pointer items-center justify-between rounded-lg px-4 py-2 text-text-secondary hover:bg-surface-hover"
        >
          <span class="flex items-center gap-2">
            <i [class]="item.icon + ' text-lg'"></i>
            <span class="text-sm font-medium">{{ item.label }}</span>
          </span>

          <span class="shrink-0 transition duration-300 group-open:-rotate-180">
            <i class="pi pi-chevron-down text-xs"></i>
          </span>
        </summary>

        <ul class="mt-2 space-y-1 px-4">
          @for (subItem of item.items; track $index) {
          <li>
            <a
              [routerLink]="subItem['link']"
              routerLinkActive="bg-primary-500/10 text-primary-500"
              [routerLinkActiveOptions]="{ exact: true }"
              class="flex items-center gap-2 rounded-lg px-4 py-2 text-text-secondary hover:bg-surface-hover"
            >
              <i [class]="subItem.icon + ' text-lg'"></i>
              <span class="text-sm font-medium">{{ subItem.label }}</span>
            </a>
          </li>
          }
        </ul>
      </details>
    </li>
    } }
  </ul>
</div>
